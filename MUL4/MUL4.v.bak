module MUL4(a, b, out);
	input [3:0]a;
	input [3:0]b;
	output [7:0]out;
	wire [3:0]c1;
	wire [3:0]c2;
	wire [3:0]c3;
	wire [3:0]c4;
	wire [3:0]s1;
	wire [3:0]s2;
	wire [3:0]s3;
	wire [3:0]s4;
	wire c1, c2, c3;
	
	and(m1, a, 4{b[0]});
	and(m2, a, 4{b[1]});
	and(m3, a, 4{b[2]});
	and(m4, a, 4{b[3]});
	assign out[0] = c1[0];
	fourbits_CLGadder fd1({1'b0, c1[3:1]}, c2, 1'b0, c1, s1);
	assign out[1] = s1[1];
	fourbits_CLGadder fd1({1'b0, s1[3:1]}, c3, c1, c2, s2);
	assign out[2] = s2[1];
	fourbits_CLGadder fd1({1'b0, s2[3:1]}, c4, c3, out[7], out[6:3]);
endmodule